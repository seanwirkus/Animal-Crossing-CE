# Main Place File

**Open `ACNH Roblox.rbxlx` in Roblox Studio as your main place file.**

This is the primary game file for development and testing. Make sure Rojo is running (`rojo serve`) to sync scripts and assets from this project folder into the open place.

# ACNH Roblox
Generated by [Rojo](https://github.com/rojo-rbx/rojo) 7.6.0.

## Getting Started
To build the place from scratch, use:

```bash
rojo build -o "ACNH Roblox.rbxlx"
```

Next, open `ACNH Roblox.rbxlx` in Roblox Studio and start the Rojo server:

```bash
rojo serve
```

For more help, check out [the Rojo documentation](https://rojo.space/docs).

## Current Systems
- Shared content database for villagers, collectables, and quest templates in `src/shared/Data`.
- Server-side services for the island clock, procedural weather, villager schedules, quest board rotation, and player economy.
- Client HUD with island clock, currency tracker, active quest list, quest-board browser (`B`), and villager dialogue overlay (`N` to close).
- Remote events/functions wired between server and client via `ReplicatedStorage/Remotes`.
- Asset manifest pipeline that merges overrides from `ReplicatedStorage/AssetManifest` or `ReplicatedStorage/Assets/Manifest` so you can reskin models, sprites, audio, and the UI palette without editing core scripts.

## Customising Assets & Theme
- Start from `src/shared/AssetManifest.luau` and follow the [asset manifest workflow](docs/ASSET_MANIFEST.md) to point to new asset ids or swap folder names.
- UI colors and seasonal accents are centralised in `src/shared/Theme.luau`, which reads manifest overrides via the shared `AssetManager`.

## Testing in Studio
1. Build or open the place file, start a playtest, and run `rojo serve` so the scripts sync.
2. Join as a test player; the HUD should populate once the server clock syncs.
3. Interact with villager prompts to trigger dialogue rewards and quest progress.
4. Open the quest board (`B`) and accept quests; progress updates appear in the left panel.

## World Authoring Notes
- Place scene markers (Parts, Attachments, or invisible Nodes) and tag them with `CollectionService` tags that match villager schedule `locationTag` values (e.g. `Plaza`, `Pier`, `ForestWalk`). Villagers will use these nodes before falling back to config positions.
- Replace placeholder villager models inside `Workspace/Villagers` with rigged characters and keep the `ChatPrompt` proximity prompt on each root part.
- Add gatherable props for tools by tagging models with `ResourceTree`, `ResourceRock`, `FishingWater`, or `Bug` (or set a `HarvestType` attribute). The updated `ToolService` will award crafting mats, fish, and bugs and feed those drops into quests and the shared inventory automatically.
- Adjust lighting, weather, and economy tuning in `src/shared/Config.luau`.

## Phase 1 â€“ Day-One Flow
- **Arrival at the hub:** Players spawn on the MainHub plaza, meet Isabelle/Tom Nook, and trigger the new onboarding ceremony via the `OpenOnboardingGUI` remote.
- **Choose an island template:** The island selection UI records the template, which now drives personalised starter kits and quest bundles.
- **Personal island generation:** `GeneratePlayerIsland` creates terrain, seeds NPCs/villagers, and immediately calls into the updated onboarding service to deliver rewards.
- **Starter kit delivery:** `OnboardingService` pulls data from `StarterKits.get`, pushes tools/resources into the shared inventory service, awards Bells/Miles, and queues starter quests.
- **Quest kick-off:** Starter quest IDs flow into the quest service so day-one objectives begin progressing as soon as the player gathers resources, chats with villagers, or catches fish/bugs.
- **HUD sync + welcome:** The client finalises onboarding, requests the starter kit snapshot via `RequestStarterKit`, and applies the fresh economy/inventory state to the HUD.
- **Return path unlocked:** Successful island generation now marks the hub state so follow-up hub interactions offer "return to island" instead of replaying the ceremony.

### Phase 1 integration checklist
- Updated `OnboardingService` to support both the legacy hub event and the personal-island flow, with quest assignment and starter kit snapshots.
- Added a server implementation for the `RequestStarterKit` remote so the client can fetch a deterministic economy/inventory payload after onboarding.
- Swapped the live quest service to the systems implementation and extended it with compatibility helpers (`CreateQuest`, `UpdateQuestProgress`, etc.) used by the fishing tutorial.
- `TreeService` and `ResourceService` now forward gather/catch actions into `QuestService:RecordInteraction`, keeping daily objectives in sync with world interactions.
- `PlayerIslandService` notifies `HubService` when an island is generated, keeping the hub onboarding loop in step with the personal island lifecycle.


## Next Steps
- Build actual island terrain, facility interiors, and CollectionService-tagged hotspots for activities.
- Implement fishing, bug-catching, gifting, and decorating interactions that call into `QuestService:RecordInteraction`.
- Hook up persistence for player inventory, home upgrades, and relationship levels.
- Add soundscapes, seasonal events, and additional villagers/items to the shared data modules.
